### <p style="background:orange;">第一章 简介</p>

##### 模式
模式：是指一个通用问题的解决方案。

- 设计模式
- 编码模式
- 反模式


##### JavaScript 基本概念

JS 五种类型不是对象：数值类型（number）、字符串类型（string）、布尔类型（boolean）、空类型（null）和未定义类型（undefined），其中，number,string,boolean 的值可以通过程序员或者位于幕后的 JavaScript 解析器来实现向对象的转换。

对象主要有两种类型：1）原生的——ECMAScript标准中描述；2）主机的——在主机环境中定义

原生的对象可以进一步分为：内置对象（如数组、日期对象等）和用户自定义对象（如 var o = {} 等)

主机对象包含 windows 对象和所有的 DOM 对象。

##### 没有类

一个“空对象”实际上并不是完全空白的，它实际上是包含有一些内置的属性，但是没有其自身的属性。

"Gang of Four"书中的一条通用规则：尽量多使用对象的组合，而不是使用类的继承。——>通过已有的对象组合来获取新对象，是比通过很长的父-子继承链来创建新的对象更好的一种方法。



### <p style="background:orange;">第四章 函数</p>

##### JavaScript 中函数的两个重要特征：

1. 函数是第一类<span style="color: red">对象</span>，可以作为带有属性和方法的值以及参数进行传递；
2. 函数提供了<span style="color: red">局部作用域</span>，而其他大括号并不能提供这种局部作用域。此外，声明的局部变量可被提升到局部作用域的顶部。

##### 创建函数的语法包括：

1. 命名函数表达式（函数表达式的一种特殊情况）；

		var add = function add(a,b) {
			return a + b;
		};	// <—— 分号结尾

2. 函数表达式，即匿名函数；

		// 该函数对象的 name 属性将会成为一个空字符串
		var add = function (a,b) {
			return a + b;
		};	// <—— 分号结尾

3. 函数声明，与其他语言中的函数的语法类似。

		function foo() { 
			// 函数主体 
		}

> 注意，`函数字面量` 是指函数表达式或命名函数表达式，但不建议使用。

<span style="background:yellow">差别：</span>

<span style="color:#ac4a4a">1）语法差异：</span>

- 函数声明不需要分号结尾；
- 函数表达式需要。

<span style="color:#ac4a4a">2）用法差异：</span>

- 函数表达式应用场景：将函数对象作为参数传递，或者在对象字面量中定义方法。

		// 1. 作为参数传递
		callMe(function () {
		  // 函数表达式（匿名函数）
		})
		
		callMe(function me() {
		  // 命名函数表达式
		})
		
		// 2. 在对象字面量中定义方法
		var myObject = {
		  say: function() {
		    // 函数表达式
		  }
		}

- 函数声明只能出现在“程序代码”中，即仅能在其他函数体内部或全局空间中。其定义不能分配给变量或属性，也不能以参数形式出现在函数调用中。

		// 1.全局作用域
		function foo() {
		  // 2.局部作用域
		  function bar() {}
		  return bar;
		}

<span style="color:#ac4a4a">3）函数的提升：</span>

- 对于所有变量，无论在函数体的何处进行声明，都会在后台被提升到函数顶部。
- 当使用函数声明时，函数定义和函数声明都被提升。

		function hoistMe() {
		  console.log(typeof foo); // 'function'
		  console.log(typeof bar);  // 'undefined'
		
		  foo();  // 'local foo'
		  bar();  // 'TypeError: bar is not a function'
		
		  /*
		   * 函数声明
		   * 变量 'foo' 及其实现都被提升
		   */
		  function foo() {
		    console.log('local foo');
		  }
		
		  /*
		   * 函数表达式
		   * 仅变量 'bar' 被提升，函数实现并未被提升
		   */
		  var bar = function() {
		    console.log('local bar');
		  }
		}

##### 函数的模式：

1.&nbsp;API 模式——>可以为函数提供更好且更整洁的接口。

- 回调模式：将函数作为参数进行传递；

> 注意点：回调与作用域，当回调作为一个对象的方法时，调用回调 this 会发生变化
> 
> 使用场景：异步事件监听器、超时方法、库中的回调模式（有助于扩展及自定义库方法）。

- 配置对象：有助于保持收到控制的函数的参数数量；

- 返回函数：当一个函数的返回值是另一个函数时；

- Curry 化：当新函数是基于现有函数，并加上部分参数列表创建时。

2.&nbsp;初始化模式——>可以在不污染全局命名空间的情况下，使用临时变量以一种更加整洁、结构化的方式初始化以及设置任务。

> - 即时函数：只要定义之后就立即执行；
> 
> - 即时对象初始化：匿名对象组织了初始化任务，提供了可被立即调用的方法；
> 
> - 初始化时分支：帮助分支代码在初始化代码执行过程中仅检测一次，这与以后在程序生命期内多次检测相反。

3.&nbsp;性能模式——>可以加速代码运行

> - 备忘模式：使用函数属性以便使得计算过的值无须再次计算；
>
> - 自定义模式：以新的主体重写本身，以使得在第二次或以后调用时仅需执行更少的工作；



